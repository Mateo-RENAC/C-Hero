@{
    ViewData["Title"] = "Accueil";
}

<h2>Accueil</h2>

<div>
    <button id="createButton" onclick="createEntry()">Create</button>
</div>

<div>
    <label for="tableSelect">Choisissez une table :</label>
    <select id="tableSelect" onchange="loadTable()">
        <option value="Rapports">Rapports</option>
        <option value="Disputes">Disputes</option>
        <option value="Incidents">Incidents</option>
        <option value="Orgas">Organisations</option>
        <option value="SuperHeroes">Super Héros</option>
        <option value="SuperVillains">Villains</option>
        <option value="Civils">Civils</option>
        <option value="Missions">Missions</option>
        <option value="Crises">Crises</option>
        <!-- Ajoutez d'autres options ici -->
    </select>
</div>

<div id="tableContainer">
    <!-- Le contenu de la table sera chargé ici -->
</div>

@section Scripts {
    <script>
        function loadTable() {
            var selectedTable = document.getElementById("tableSelect").value;
            fetch('/Home/LoadTable?table=' + selectedTable)
                .then(response => response.text())
                .then(html => {
                    document.getElementById("tableContainer").innerHTML = html;
                });
        }

        function createEntry() {
            var selectedTable = document.getElementById("tableSelect").value;
            window.location.href = '/Home/Create?table=' + selectedTable;
        }

        // Charger la table par défaut
        loadTable();
    </script>
}